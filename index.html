<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cashback Link Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #f5f5f5;
            gap: 20px;
        }
        button {
            padding: 15px 25px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 6px;
            color: white;
            width: 260px;
        }
        .generate-btn {
            background-color: #28a745;
        }
        .generate-btn:hover {
            background-color: #218838;
        }
        .whatsapp-btn {
            background-color: #25D366;
        }
        .whatsapp-btn:hover {
            background-color: #1ebe5d;
        }
    </style>
</head>
<body>

<button class="generate-btn" onclick="generateLink()">
    Generate Cashback Link
</button>

<button class="whatsapp-btn" onclick="joinWhatsapp()">
    Join WhatsApp Group
</button>

<script>
function generateLink() {
    const baseUrl = "https://rallistaqatcampaign.buyerr.in/?code=BC00000182xxxx&type=1a2dbdc6#";

    let usedCodes = JSON.parse(localStorage.getItem("usedCodes")) || [];

    if (usedCodes.length >= 10000) {
        alert("All possible 4-digit codes have been used.");
        return;
    }

    let randomCode;
    do {
        randomCode = Math.floor(Math.random() * 10000)
            .toString()
            .padStart(4, '0');
    } while (usedCodes.includes(randomCode));

    usedCodes.push(randomCode);
    localStorage.setItem("usedCodes", JSON.stringify(usedCodes));

    const finalUrl = baseUrl.replace("xxxx", randomCode);
    window.open(finalUrl, "_blank");
}

function joinWhatsapp() {
    window.open(
        "https://chat.whatsapp.com/LC1QegWVinv1SO8P9GlHmo",
        "_blank"
    );
}
</script>

</body>
</html>
